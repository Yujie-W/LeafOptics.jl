<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · LeafOptics</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LeafOptics</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Leaf-spectra"><span>Leaf spectra</span></a></li><li><a class="tocitem" href="#Leaf-PAR,-APAR,-and-PPAR"><span>Leaf PAR, APAR, and PPAR</span></a></li><li><a class="tocitem" href="#Leaf-SIF"><span>Leaf SIF</span></a></li><li><a class="tocitem" href="#Utility-functions"><span>Utility functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Yujie-W/LeafOptics.jl/blob/main/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="LeafOptics"><a class="docs-heading-anchor" href="#LeafOptics">LeafOptics</a><a id="LeafOptics-1"></a><a class="docs-heading-anchor-permalink" href="#LeafOptics" title="Permalink"></a></h1><h2 id="Leaf-spectra"><a class="docs-heading-anchor" href="#Leaf-spectra">Leaf spectra</a><a id="Leaf-spectra-1"></a><a class="docs-heading-anchor-permalink" href="#Leaf-spectra" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.leaf_spectra!" href="#LeafOptics.leaf_spectra!"><code>LeafOptics.leaf_spectra!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>This function updates leaf level reflectance, transmittance, and fluorescence spectra related parameters. Supported methods are</p><ul><li>Update leaf spectra based on pigment concentrations</li><li>Update leaf spectra (reflectance and transmittance) to given broadband values</li><li>Update leaf spectra based on pigment concentrations for the entire SPAC</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/spectra.jl#L9-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.leaf_spectra!-Union{Tuple{FT}, Tuple{ClimaCache.HyperspectralLeafBiophysics{FT}, ClimaCache.WaveLengthSet{FT}, ClimaCache.HyperspectralAbsorption{FT}, FT}} where FT&lt;:AbstractFloat" href="#LeafOptics.leaf_spectra!-Union{Tuple{FT}, Tuple{ClimaCache.HyperspectralLeafBiophysics{FT}, ClimaCache.WaveLengthSet{FT}, ClimaCache.HyperspectralAbsorption{FT}, FT}} where FT&lt;:AbstractFloat"><code>LeafOptics.leaf_spectra!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">leaf_spectra!(bio::HyperspectralLeafBiophysics{FT}, wls::WaveLengthSet{FT}, lha::HyperspectralAbsorption{FT}, lwc::FT; APAR_car::Bool = true, α::FT=FT(40)) where {FT&lt;:AbstractFloat}</code></pre><p>Update leaf reflectance and transmittance spectra, and fluorescence spectrum matrices, given</p><ul><li><code>bio</code> <code>ClimaCache.HyperspectralLeafBiophysics</code> type struct that contains leaf biophysical parameters</li><li><code>wls</code> <code>ClimaCache.WaveLengthSet</code> type struct that contain wave length bins</li><li><code>lha</code> <code>ClimaCache.HyperspectralAbsorption</code> type struct that contains absorption characteristic curves</li><li><code>lwc</code> Leaf water content <code>[mol m⁻²]</code></li><li><code>APAR_car</code> If true, carotenoid absorption is accounted for in PPAR, default is <code>true</code></li><li><code>α</code> Optimum angle of incidence (default is 40° as in PROSPECT-D, SCOPE uses 59°)</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">wls = WaveLengthSet{Float64}();
bio = HyperspectralLeafBiophysics{Float64}(wls);
lha = HyperspectralAbsorption{Float64}(wls);
leaf_spectra!(bio, wls, lha, 50.0);
leaf_spectra!(bio, wls, lha, 50.0; APAR_car=false);
leaf_spectra!(bio, wls, lha, 50.0; APAR_car=false, α=59.0);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/spectra.jl#L39-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.leaf_spectra!-Union{Tuple{FT}, Tuple{ClimaCache.HyperspectralLeafBiophysics{FT}, ClimaCache.WaveLengthSet{FT}, FT, FT, FT, FT}} where FT&lt;:AbstractFloat" href="#LeafOptics.leaf_spectra!-Union{Tuple{FT}, Tuple{ClimaCache.HyperspectralLeafBiophysics{FT}, ClimaCache.WaveLengthSet{FT}, FT, FT, FT, FT}} where FT&lt;:AbstractFloat"><code>LeafOptics.leaf_spectra!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">leaf_spectra!(bio::HyperspectralLeafBiophysics{FT}, wls::WaveLengthSet{FT}, ρ_par::FT, ρ_nir::FT, τ_par::FT, τ_nir::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Update leaf reflectance and transmittance (e.g., prescribe broadband PAR and NIR values), given</p><ul><li><code>bio</code> <code>ClimaCache.HyperspectralLeafBiophysics</code> type struct that contains leaf biophysical parameters</li><li><code>wls</code> <code>ClimaCache.WaveLengthSet</code> type struct that contain wave length bins</li><li><code>ρ_par</code> Reflectance at PAR region</li><li><code>ρ_nir</code> Reflectance at NIR region</li><li><code>τ_par</code> Transmittance at PAR region</li><li><code>τ_nir</code> Transmittance at NIR region</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">wls = WaveLengthSet{Float64}();
bio = HyperspectralLeafBiophysics{Float64}(wls);
leaf_spectra!(bio, wls, 0.1, 0.45, 0.05, 0.25);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/spectra.jl#L212-L231">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.leaf_spectra!-Union{Tuple{Union{ClimaCache.MonoMLGrassSPAC{FT}, ClimaCache.MonoMLPalmSPAC{FT}, ClimaCache.MonoMLTreeSPAC{FT}}}, Tuple{FT}} where FT&lt;:AbstractFloat" href="#LeafOptics.leaf_spectra!-Union{Tuple{Union{ClimaCache.MonoMLGrassSPAC{FT}, ClimaCache.MonoMLPalmSPAC{FT}, ClimaCache.MonoMLTreeSPAC{FT}}}, Tuple{FT}} where FT&lt;:AbstractFloat"><code>LeafOptics.leaf_spectra!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">leaf_spectra!(spac::Union{MonoMLGrassSPAC{FT}, MonoMLPalmSPAC{FT}, MonoMLTreeSPAC{FT}}) where {FT&lt;:AbstractFloat}</code></pre><p>Update leaf reflectance and transmittance for SPAC, given</p><ul><li><code>spac</code> <code>MonoMLGrassSPAC</code>, <code>MonoMLPalmSPAC</code>, and <code>MonoMLTreeSPAC</code> type SPAC</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/spectra.jl#L253-L260">source</a></section></article><h2 id="Leaf-PAR,-APAR,-and-PPAR"><a class="docs-heading-anchor" href="#Leaf-PAR,-APAR,-and-PPAR">Leaf PAR, APAR, and PPAR</a><a id="Leaf-PAR,-APAR,-and-PPAR-1"></a><a class="docs-heading-anchor-permalink" href="#Leaf-PAR,-APAR,-and-PPAR" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.leaf_PAR" href="#LeafOptics.leaf_PAR"><code>LeafOptics.leaf_PAR</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">leaf_PAR(bio::HyperspectralLeafBiophysics{FT}, wls::WaveLengthSet{FT}, rad::HyperspectralRadiation{FT}; APAR_car::Bool = true) where {FT&lt;:AbstractFloat}</code></pre><p>Return leaf level PAR, APAR, and PPAR, given</p><ul><li><code>bio</code> <code>ClimaCache.HyperspectralLeafBiophysics</code> type struct that contains leaf biophysical parameters</li><li><code>wls</code> <code>ClimaCache.WaveLengthSet</code> type struct that contains wave length bins</li><li><code>rad</code> <code>ClimaCache.HyperspectralRadiation</code> type struct that contains incoming radiation information</li><li><code>APAR_car</code> If true (default), account carotenoid absorption as PPAR; otherwise, PPAR is only by chlorophyll</li></ul><hr/><p><strong>Examples</strong></p><pre><code class="language-julia hljs">wls = WaveLengthSet{Float64}();
bio = HyperspectralLeafBiophysics{Float64}(wls);
rad = HyperspectralRadiation{Float64}();
par,apar,ppar = leaf_PAR(bio, wls, rad);
par,apar,ppar = leaf_PAR(bio, wls, rad; APAR_car=false);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/radiation.jl#L11-L31">source</a></section></article><h2 id="Leaf-SIF"><a class="docs-heading-anchor" href="#Leaf-SIF">Leaf SIF</a><a id="Leaf-SIF-1"></a><a class="docs-heading-anchor-permalink" href="#Leaf-SIF" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.leaf_SIF" href="#LeafOptics.leaf_SIF"><code>LeafOptics.leaf_SIF</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">leaf_SIF(bio::HyperspectralLeafBiophysics{FT}, wls::WaveLengthSet{FT}, rad::HyperspectralRadiation{FT}, ϕ::FT = FT(0.01); ϕ_photon::Bool = true) where {FT&lt;:AbstractFloat}</code></pre><p>Return the leaf level SIF at backward and forward directions, given</p><ul><li><code>bio</code> <code>ClimaCache.HyperspectralLeafBiophysics</code> type struct that contains leaf biophysical parameters</li><li><code>wls</code> <code>ClimaCache.WaveLengthSet</code> type struct that contains wave length bins</li><li><code>rad</code> <code>ClimaCache.HyperspectralRadiation</code> type struct that contains incoming radiation information</li><li><code>ϕ</code> Fluorescence quantum yield</li><li><code>ϕ_photon</code> If true (default), convert photon to photon when computing SIF; otherwise, convert energy to energy</li></ul><hr/><p><strong>Examples</strong></p><pre><code class="language-julia hljs">wls = WaveLengthSet{Float64}();
bio = HyperspectralLeafBiophysics{Float64}(wls);
rad = HyperspectralRadiation{Float64}();
sif_b,sif_f = leaf_SIF(bio, wls, rad, 0.01);
sif_b,sif_f = leaf_SIF(bio, wls, rad, 0.01; ϕ_photon=false);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/fluorescence.jl#L13-L34">source</a></section></article><h2 id="Utility-functions"><a class="docs-heading-anchor" href="#Utility-functions">Utility functions</a><a id="Utility-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.average_transmittance" href="#LeafOptics.average_transmittance"><code>LeafOptics.average_transmittance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">average_transmittance(α::FT, nr::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the average transmittance of isotropic radiation across an interface between two dielectrics, given</p><ul><li><code>α</code> angle of incidence</li><li><code>nr</code> Index of refraction</li></ul><p><strong>References</strong></p><ul><li>Stern (1964) Transmission of isotropic radiation across an interface between two dielectrics. Applied Optics 3(1): 111-113.</li><li>Allen (1973) Transmission of isotropic light across a dielectric surface in two and three dimensions. Journal of the Optical Society of America 63(6): 664-666.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/transmittance.jl#L11-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.photon" href="#LeafOptics.photon"><code>LeafOptics.photon</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">photon(λ::FT, E::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the number of moles of photons, given</p><ul><li><code>λ</code> Wave length in <code>[nm]</code>, converted to <code>[m]</code> by FAC</li><li><code>E</code> Joules of energy</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/photon.jl#L13-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.photon!" href="#LeafOptics.photon!"><code>LeafOptics.photon!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">photon!(λ::Vector{FT}, E::Vector{FT}, phot::Vector{FT}) where {FT&lt;:AbstractFloat}
photon!(λ::Vector{FT}, E::Vector{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Compute and save the number of moles of photons, given</p><ul><li><code>λ</code> Wave length in <code>[nm]</code>, converted to <code>[m]</code> by FAC</li><li><code>E</code> Joules of energy (will be converted to moles of photons if phot in not given)</li><li><code>phot</code> Mole of photons (variable to save)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/photon.jl#L36-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.energy" href="#LeafOptics.energy"><code>LeafOptics.energy</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">energy(λ::FT, phot::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the energy, given</p><ul><li><code>λ</code> Wave length in <code>[nm]</code>, converted to <code>[m]</code> by FAC</li><li><code>phot</code> Number of moles of photon</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/photon.jl#L61-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LeafOptics.energy!" href="#LeafOptics.energy!"><code>LeafOptics.energy!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">energy!(λ::Vector{FT}, phot::Vector{FT}, E::Vector{FT}) where {FT&lt;:AbstractFloat}
energy!(λ::Vector{FT}, phot::Vector{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Compute and save the number of moles of photons, given</p><ul><li><code>λ</code> Wave length in <code>[nm]</code>, converted to <code>[m]</code> by FAC</li><li><code>phot</code> Mole of photons (will be converted to moles of photons if E is not given)</li><li><code>E</code> Joules of energy (variable to save)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/LeafOptics.jl/blob/8314edc232a4b190dd51efb8a6aa60316bcd7f7a/src/photon.jl#L84-L94">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.21 on <span class="colophon-date" title="Friday 22 July 2022 19:48">Friday 22 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
